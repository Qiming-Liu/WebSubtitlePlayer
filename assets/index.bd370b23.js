import{d as b,E as C,P,U,a as F,b as L,c as A,M as q,s as m,r as u,o as d,e as f,f as n,w as a,g as h,K as I,h as N,B as O,i as E,_ as K,A as j,j as g,k as D,t as R,n as W,F as G,l as H}from"./vendor.4ebd58ff.js";const J=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))p(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&p(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function p(s){if(s.ep)return;s.ep=!0;const l=o(s);fetch(s.href,l)}};J();var v=(e,t)=>{const o=e.__vccOpts||e;for(const[p,s]of t)o[p]=s;return o};const Q=b({components:{VueFinalModal:C,Slider:P,UploadOutlined:U,PlayCircleTwoTone:F,PauseCircleTwoTone:L,PlusSquareFilled:A,MinusSquareFilled:q},props:{show:Boolean,setText:Function,setSize:Function},data(){return{interval:100,sliderValue:0,max:100,pause:!1,intervaler:null,player:null,format:e=>{let t=e*this.interval;return m.toTime(t).substr(0,8)}}},methods:{beforeUpload(e){let t=this,o=new FileReader;return o.onload=function(){t.setSubtitle(this.result)},o.readAsText(e),!1},setSubtitle(e){let t=m.parse(e);this.player=m.setPlayer(t,o=>{this.setText(o)}),this.max=Math.floor(m.toMS(this.player.getEndTime())/this.interval),this.intervaler===null?(this.intervaler=setInterval(()=>{},6e4),this.pause=!0,this.player.update("00:00:00,000")):(clearInterval(this.intervaler),this.pause=!1,this.sliderValue=0,this.intervaler=setInterval(()=>{this.pause||(this.sliderValue+=1,this.player.update(m.toTime(this.sliderValue*this.interval)))},this.interval))},togglePause(e){this.pause=!this.pause,e.cancelBubble=!0}},mounted(){this.$nextTick().then(()=>{this.setSubtitle(`1
00:00:00,000 --> 00:00:01,000
Web Subtitle Player
`)})}}),X={class:"upload"},Y=N("Select .srt File "),Z={class:"size"},ee={class:"play"},te={class:"slider"};function se(e,t,o,p,s,l){const r=u("upload-outlined"),_=O,y=E,c=u("plus-square-filled"),k=u("minus-square-filled"),T=K,x=u("play-circle-two-tone"),V=u("pause-circle-two-tone"),$=j,M=u("Slider"),B=u("vue-final-modal");return d(),f(I,null,[n(B,{modelValue:e.show,"onUpdate:modelValue":t[3]||(t[3]=i=>e.show=i),classes:"modal-container","content-class":"modal-content"},{default:a(()=>[h("div",X,[n(y,{accept:".srt",beforeUpload:e.beforeUpload,showUploadList:!1},{default:a(()=>[n(_,null,{default:a(()=>[n(r),Y]),_:1})]),_:1},8,["beforeUpload"])]),h("div",Z,[n(T,null,{default:a(()=>[n(_,{type:"primary",onClick:t[0]||(t[0]=i=>{i.cancelBubble=!0,e.setSize(1)})},{icon:a(()=>[n(c)]),_:1}),n(_,{type:"primary",onClick:t[1]||(t[1]=i=>{i.cancelBubble=!0,e.setSize(-1)})},{icon:a(()=>[n(k)]),_:1})]),_:1})]),h("div",ee,[n($,{size:{xs:105,sm:131,md:164,lg:205,xl:256,xxl:320},onClick:e.togglePause,style:{background:"transparent"}},{icon:a(()=>[e.pause?(d(),f(x,{key:0})):(d(),f(V,{key:1}))]),_:1},8,["onClick"])]),h("div",te,[n(M,{modelValue:e.sliderValue,"onUpdate:modelValue":t[2]||(t[2]=i=>e.sliderValue=i),format:e.format,max:e.max,lazy:!1},null,8,["modelValue","format","max"])])]),_:1},8,["modelValue"])],1024)}var S=v(Q,[["render",se],["__scopeId","data-v-5c53512a"]]);const oe={props:{msg:String},setup(e){return(t,o)=>(d(),g("div",null,[D(t.$slots,"default",{},void 0,!0)]))}};var z=v(oe,[["__scopeId","data-v-221b15f7"]]);const ne={props:{size:String,msg:String},setup(e){return(t,o)=>(d(),g("p",{style:W("font-size:"+e.size+"rem;")},R(e.msg),5))}};var w=v(ne,[["__scopeId","data-v-47b1fe00"]]);const le=b({components:{Background:z,Text:w,Layer:S},data(){return{size:3,text:"",showModal:!0,setText:e=>{this.text=e},setSize:e=>{this.size+=Number(e),this.size<1?this.size=1:this.size>12&&(this.size=12)}}},methods:{toggleModal(){this.showModal=!this.showModal}}});function ae(e,t,o,p,s,l){const r=w,_=z,y=S;return d(),g(G,null,[n(_,{onClick:e.toggleModal},{default:a(()=>[n(r,{msg:e.text,"onUpdate:msg":t[0]||(t[0]=c=>e.text=c),size:e.size},null,8,["msg","size"])]),_:1},8,["onClick"]),n(y,{show:e.showModal,"onUpdate:show":t[1]||(t[1]=c=>e.showModal=c),setText:e.setText,setSize:e.setSize,onClick:e.toggleModal},null,8,["show","setText","setSize","onClick"])],64)}var re=v(le,[["render",ae]]);const ie={setup(e){return(t,o)=>(d(),f(re))}};H(ie).mount("#app");
